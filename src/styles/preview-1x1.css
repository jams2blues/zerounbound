/*Developed by @jams2blues
  File: src/styles/preview-1x1.css
  Rev:  r812
  Summary: Enforce video wrapper+video to fill 1:1; use !important to beat inline styles. */

/* 1) Square container */
.preview-1x1 {
  aspect-ratio: 1 / 1;
  position: relative;
  display: grid;
  place-items: center;
  overflow: hidden;
  background-color: var(--preview-bg, #0a0a0a);
  border-radius: var(--preview-radius, 8px);
}

/* Fallback for browsers without aspect-ratio support */
@supports not (aspect-ratio: 1 / 1) {
  .preview-1x1 { display: block; }
  .preview-1x1::before { content: ""; display: block; padding-top: 100%; }
  .preview-1x1 > * { position: absolute; inset: 0; }
}

/* 2) IMAGES — keep full artwork visible (no crop) */
.preview-1x1 > img,
.preview-1x1 > picture > img,
.preview-1x1 > span > img {
  width: 100%;
  height: 100%;
  max-width: 100%;
  max-height: 100%;
  object-fit: contain !important;
  object-position: center center;
  display: block;
  min-width: 0 !important;
  min-height: 0 !important;
  -webkit-user-select: none;
  user-select: none;
  -webkit-touch-callout: none;
}

/* Ensure Next.js <Image> wrapper stretches to the frame */
.preview-1x1 > span { position: absolute !important; inset: 0 !important; }

/* 3) VIDEO — wrapper fills parent; inner video scales with contain */
.preview-1x1 > div[data-zu-media="video"],
.preview-1x1 > video {
  position: absolute !important;
  inset: 0 !important;
  width: 100% !important;
  height: 100% !important;
}

.preview-1x1 > div[data-zu-media="video"] {
  display: grid !important;
  place-items: center !important;
}

.preview-1x1 > div[data-zu-media="video"] > video,
.preview-1x1 > video {
  width: 100% !important;
  height: 100% !important;
  max-width: 100% !important;
  max-height: 100% !important;
  object-fit: contain !important;   /* critical for MP4 previews */
  object-position: center center !important;
  background: transparent;
  outline: none;
  display: block;
}

/* 4) Optional helper when using background-image thumbnails */
.preview-1x1.is-bg,
.preview-1x1[data-bg] {
  background-repeat: no-repeat;
  background-position: center center;
  background-size: contain !important;  /* DO NOT crop */
}

/* What changed & why: r812 — Force video wrapper + video to 100% with !important
   to defeat inline styles; eliminates height clipping and keeps controls visible. */
